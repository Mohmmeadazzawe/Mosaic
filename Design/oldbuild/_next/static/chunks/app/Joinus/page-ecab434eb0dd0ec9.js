(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7299],{3985:(e,t,n)=>{Promise.resolve().then(n.bind(n,7803))},4436:(e,t,n)=>{"use strict";n.d(t,{k5:()=>d});var o=n(2115),i={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=o.createContext&&o.createContext(i),s=["attr","size","title"];function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){var o,i,a;o=e,i=t,a=n[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in o?Object.defineProperty(o,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e){return t=>o.createElement(u,r({attr:c({},e.attr)},t),function e(t){return t&&t.map((t,n)=>o.createElement(t.tag,c({key:n},t.attr),e(t.child)))}(e.child))}function u(e){var t=t=>{var n,{attr:i,size:a,title:l}=e,d=function(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;n[o]=e[o]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,s),u=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),o.createElement("svg",r({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,d,{className:n,style:c(c({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),l&&o.createElement("title",null,l),e.children)};return void 0!==a?o.createElement(a.Consumer,null,e=>t(e)):t(i)}},5089:(e,t,n)=>{"use strict";n.d(t,{default:()=>s});var o=n(5155),i=n(8453),a=n.n(i);function s(e){let{text:t="جاري التحميل",subtext:n="يرجى الانتظار قليلاً",size:i="medium",className:s=""}=e;return(0,o.jsxs)("div",{className:"".concat(a().loadingContainer," ").concat(a()[i]," ").concat(s),children:[(0,o.jsx)("div",{className:a().loadingSpinner}),(0,o.jsxs)("div",{className:a().loadingText,children:[t,(0,o.jsx)("span",{className:a().loadingDots})]}),n&&(0,o.jsx)("div",{className:a().loadingSubtext,children:n})]})}},7803:(e,t,n)=>{"use strict";n.d(t,{default:()=>x});var o=n(5155),i=n(2115),a=n(9603),s=n.n(a),r=n(6874),l=n.n(r),c=n(6766),d=n(9911),u=n(5089),m=n(3268),p=n(7185);let h="#1976d2",j="https://app.mosaic-hrd.org/api",x=()=>{let{lang:e}=(0,m.o)(),t=(0,p.B)(),[n,a]=(0,i.useState)([]),[r,x]=(0,i.useState)(!0),[b,g]=(0,i.useState)(1),[f,_]=(0,i.useState)({name:"",email:"",phone:"",expertise:"",bio:"",cv:null}),[v,y]=(0,i.useState)(!1),[N,O]=(0,i.useState)("idle"),[w,C]=(0,i.useState)(""),k=(0,i.useRef)(null);(0,i.useEffect)(()=>{(async()=>{x(!0);try{let t="".concat(j,"/job-vacancies/paginated");console.log("Fetching from URL:",t);let n=await fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","Accept-Language":e}});if(console.log("Response status:",n.status),!n.ok)throw Error("Failed to fetch: ".concat(n.statusText));let o=await n.json();console.log("Jobs API Response:",o),o&&o.data&&o.data.job_vacancies?(console.log("Processed jobs data:",o.data.job_vacancies),a(o.data.job_vacancies)):(console.log("No jobs found in response"),a([]))}catch(e){console.error("Failed to fetch jobs:",e),a([])}finally{x(!1)}})()},[e]);let D=e=>{let{name:t,value:n,files:o}=e.target;"cv"===t&&o?_(e=>({...e,cv:o[0]||null})):_(e=>({...e,[t]:n}))},L=async e=>{e.preventDefault(),y(!0),O("idle"),C("");try{let e="".concat(j,"/job-request");console.log("Submitting to URL:",e);let t=new FormData;t.append("name",f.name),t.append("email",f.email),t.append("phone",f.phone),t.append("expertise",f.expertise),t.append("bio",f.bio),f.cv&&t.append("cv",f.cv);let n=await fetch(e,{method:"POST",body:t});console.log("Response status:",n.status);let o=await n.json();console.log("Form submission response:",o),n.ok&&"Error"!==o.status?(O("success"),_({name:"",email:"",phone:"",expertise:"",bio:"",cv:null}),k.current&&(k.current.value="")):(O("error"),C(o.message||"حدث خطأ أثناء إرسال الطلب. يرجى المحاولة مرة أخرى."))}catch(e){console.error("Error submitting form:",e),O("error"),C("حدث خطأ في الاتصال بالخادم")}finally{y(!1)}},P=5*b,S=n.slice(P-5,P),J=Math.ceil(n.length/5),E=e=>{g(e)};return(0,o.jsxs)("div",{className:s().container,children:[(0,o.jsx)("h1",{className:s().title,style:{textDecoration:"none"},children:t("joinus")}),(0,o.jsxs)("div",{className:s().mainContent,children:[(0,o.jsx)("div",{className:s().jobVacancyList,children:r?(0,o.jsx)(u.default,{text:t("loading"),subtext:t("loading"),size:"medium"}):0===n.length?(0,o.jsx)("div",{children:t("noData")}):S.map(e=>{var n;return(0,o.jsxs)(l(),{href:"/jobs?id=".concat(e.id),className:s().jobVacancyItem,style:{textDecoration:"none"},children:[(0,o.jsx)(c.default,{src:e.image,alt:e.name,className:s().jobImage,width:200,height:150}),(0,o.jsxs)("div",{className:s().jobDetails,dir:"ltr",children:[(0,o.jsx)("h2",{className:s().jobTitle,style:{textDecoration:"none"},children:e.name}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:4},children:[(0,o.jsx)(d.bfZ,{color:"#d32f2f",style:{minWidth:18}}),(0,o.jsxs)("span",{style:{fontSize:"0.95em",color:"#333",textDecoration:"none"},children:[t("publishingDate"),": ",null==(n=e.publishing_date)?void 0:n.split("T")[0]]})]}),(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,o.jsx)(d.BuZ,{color:h,style:{minWidth:18}}),(0,o.jsxs)("span",{style:{fontSize:"0.95em",color:h,textDecoration:"none"},children:[t("tags"),": ",e.tags.map((t,n)=>(0,o.jsxs)(i.Fragment,{children:[(0,o.jsx)("span",{style:{color:h,marginRight:4,textDecoration:"none"},children:t.name}),n<e.tags.length-1&&","]},t.id))]})]})]})]})]},e.id)})}),(0,o.jsxs)("div",{className:s().formColumn,children:[(0,o.jsxs)("div",{className:s().applicationForm,children:[(0,o.jsx)("h3",{style:{textDecoration:"none"},children:t("submitApplication")}),"success"===N&&(0,o.jsx)("div",{style:{background:"#d4edda",color:"#155724",padding:"1rem",borderRadius:4,marginBottom:12,border:"1px solid #c3e6cb"},children:t("applicationSuccess")}),"error"===N&&(0,o.jsx)("div",{style:{background:"#f8d7da",color:"#721c24",padding:"1rem",borderRadius:4,marginBottom:12,border:"1px solid #f5c6cb"},children:w}),(0,o.jsxs)("form",{onSubmit:L,children:[(0,o.jsxs)("div",{className:s().formGroup,children:[(0,o.jsx)("label",{htmlFor:"name",children:t("yourName")}),(0,o.jsx)("input",{type:"text",id:"name",name:"name",className:s().formControl,value:f.name,onChange:D,required:!0,disabled:v})]}),(0,o.jsxs)("div",{className:s().formGroup,children:[(0,o.jsx)("label",{htmlFor:"phone",children:t("phoneNumber")}),(0,o.jsx)("input",{type:"text",id:"phone",name:"phone",className:s().formControl,value:f.phone,onChange:D,required:!0,disabled:v})]}),(0,o.jsxs)("div",{className:s().formGroup,children:[(0,o.jsx)("label",{htmlFor:"email",children:t("emailAddress")}),(0,o.jsx)("input",{type:"email",id:"email",name:"email",className:s().formControl,value:f.email,onChange:D,required:!0,disabled:v})]}),(0,o.jsxs)("div",{className:s().formGroup,children:[(0,o.jsx)("label",{htmlFor:"expertise",children:t("fieldOfStudy")}),(0,o.jsx)("input",{type:"text",id:"expertise",name:"expertise",className:s().formControl,value:f.expertise,onChange:D,required:!0,disabled:v})]}),(0,o.jsxs)("div",{className:s().formGroup,children:[(0,o.jsx)("label",{htmlFor:"aboutYou",children:t("moreAboutYou")}),(0,o.jsx)("textarea",{id:"aboutYou",name:"bio",className:s().formControl,rows:4,value:f.bio,onChange:D,required:!0,disabled:v})]}),(0,o.jsxs)("div",{className:s().formGroup,children:[(0,o.jsx)("label",{htmlFor:"cv",children:t("cv")}),(0,o.jsxs)("div",{className:s().fileUpload,children:[(0,o.jsx)("span",{children:t("uploadCv")}),(0,o.jsx)("input",{type:"file",id:"cv",name:"cv",className:s().fileInput,ref:k,onChange:D,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",required:!0,disabled:v}),(0,o.jsx)("button",{className:s().uploadButton,type:"button",onClick:()=>{var e;return null==(e=k.current)?void 0:e.click()},tabIndex:-1,children:(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,o.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,o.jsx)("polyline",{points:"17 8 12 3 7 8"}),(0,o.jsx)("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]})})]})]}),(0,o.jsx)("button",{type:"submit",className:s().submitButton,disabled:v,children:v?t("sending"):t("submitApplication")})]})]}),(0,o.jsx)("div",{className:s().footerLinks,children:(0,o.jsxs)("ul",{children:[(0,o.jsx)("li",{children:(0,o.jsx)("a",{href:"#",style:{textDecoration:"none",color:"inherit"},children:t("moreAboutMosaic")})}),(0,o.jsx)("li",{children:(0,o.jsx)("a",{href:"#",style:{textDecoration:"none",color:"inherit"},children:t("moreAboutMosaicProjects")})}),(0,o.jsx)("li",{children:(0,o.jsx)("a",{href:"#",style:{textDecoration:"none",color:"inherit"},children:t("mosaicUpcomingEvents")})}),(0,o.jsx)("li",{children:(0,o.jsx)("a",{href:"#",style:{textDecoration:"none",color:"inherit"},children:t("mosaicNews")})})]})})]})]}),!r&&n.length>3&&(0,o.jsxs)("div",{className:s().pagination,children:[(0,o.jsx)("button",{onClick:()=>E(0),disabled:!0,className:s().paginationLink,style:{textDecoration:"none"},children:t("previous")}),Array.from({length:J},(e,t)=>t+1).map(e=>(0,o.jsx)("button",{onClick:()=>E(e),className:"".concat(s().paginationLink," ").concat(1===e?s().active:""),style:{textDecoration:"none"},children:e},e)),(0,o.jsxs)("button",{onClick:()=>E(2),disabled:1===J,className:s().paginationLink,style:{textDecoration:"none"},children:[t("next")," →"]})]})]})}},8453:e=>{e.exports={loadingContainer:"Loading_loadingContainer__xYplO",loadingSpinner:"Loading_loadingSpinner__M270_",loadingPulse:"Loading_loadingPulse__Qaw_K",loadingText:"Loading_loadingText___vDh_",loadingSubtext:"Loading_loadingSubtext__wQMxs",loadingDots:"Loading_loadingDots__WkQtU",small:"Loading_small__OUu1F",medium:"Loading_medium__Pt9vT",large:"Loading_large__Xyjja"}},9603:e=>{e.exports={container:"Joinus_container__Fz_wZ",title:"Joinus_title__ssFNn",mainContent:"Joinus_mainContent__Puncp",jobVacancyList:"Joinus_jobVacancyList__8dUjl",jobVacancyItem:"Joinus_jobVacancyItem__UtjB5",jobImage:"Joinus_jobImage__PbMA_",jobDetails:"Joinus_jobDetails__u_X1H",jobTitle:"Joinus_jobTitle__xW_Ik",publishDate:"Joinus_publishDate__6lR6q",tags:"Joinus_tags__ILyM4",formColumn:"Joinus_formColumn__k8822",applicationForm:"Joinus_applicationForm__tHv3j",formGroup:"Joinus_formGroup__2e6f1",formControl:"Joinus_formControl__uOijR",fileUpload:"Joinus_fileUpload__PAUo4",fileInput:"Joinus_fileInput__1zk_y",uploadButton:"Joinus_uploadButton__dbpdw",submitButton:"Joinus_submitButton__khyh4",pagination:"Joinus_pagination__EqKmy",paginationLink:"Joinus_paginationLink__3AWMO",active:"Joinus_active__QK2YJ",footerLinks:"Joinus_footerLinks__LtJpP"}}},e=>{var t=t=>e(e.s=t);e.O(0,[2036,593,6711,6766,6874,7185,8441,1684,7358],()=>t(3985)),_N_E=e.O()}]);
