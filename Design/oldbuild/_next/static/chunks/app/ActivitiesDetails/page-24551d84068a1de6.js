(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6124],{640:e=>{e.exports={container:"ActivitiesDetails_container__0XQMy",title:"ActivitiesDetails_title__WBVM2",content:"ActivitiesDetails_content__1ZHge",imageSection:"ActivitiesDetails_imageSection__PcwyN",imageWrapper:"ActivitiesDetails_imageWrapper__jF6NW",mainImage:"ActivitiesDetails_mainImage__L_VFt",imageInfo:"ActivitiesDetails_imageInfo__tuSl0",publishingDate:"ActivitiesDetails_publishingDate__kY7ev",tags:"ActivitiesDetails_tags__LG4hd",icon:"ActivitiesDetails_icon__D8XQO",rightSection:"ActivitiesDetails_rightSection__hXhIp",searchBox:"ActivitiesDetails_searchBox__G7wsj",searchInput:"ActivitiesDetails_searchInput__Y29yL",searchIcon:"ActivitiesDetails_searchIcon__Dn19F",sections:"ActivitiesDetails_sections__hBgLF",tagsSection:"ActivitiesDetails_tagsSection__H4tPk",sectionList:"ActivitiesDetails_sectionList__InBS5",sectionItem:"ActivitiesDetails_sectionItem__38XcR",arrow:"ActivitiesDetails_arrow__bgSPm",tagList:"ActivitiesDetails_tagList__hM0PC",tag:"ActivitiesDetails_tag__4Di8H",newsDetailsParagraph:"ActivitiesDetails_newsDetailsParagraph__sfoWA"}},2423:e=>{e.exports={videoContainer:"Video_videoContainer__z7UvR",videoInfo:"Video_videoInfo__7yzUX",publishingDate:"Video_publishingDate__B4Obu",videoIframe:"Video_videoIframe__WuQwD",error:"Video_error__wOV_L"}},5982:(e,s,i)=>{Promise.resolve().then(i.bind(i,9795))},9795:(e,s,i)=>{"use strict";i.r(s),i.d(s,{default:()=>g});var a=i(5155),t=i(2115),c=i(6766),n=i(640),l=i.n(n),o=i(9911),r=i(5695),d=i(3268),h=i(7185),m=i(5089),v=i(8049),p=i(2423),_=i.n(p);let j=()=>{var e;let s=(0,r.useSearchParams)().get("id")||"1",[i,c]=(0,t.useState)(null),[n,l]=(0,t.useState)(!0),{lang:o}=(0,d.o)(),m=(0,h.B)();if((0,t.useEffect)(()=>{(async()=>{l(!0);try{let e="".concat("https://app.mosaic-hrd.org/api","/activities/").concat(s);console.log("Fetching activity video from URL:",e);let i=await fetch(e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","Accept-Language":o}});if(console.log("Activity Video Response status:",i.status),!i.ok)throw Error("Failed to fetch: ".concat(i.statusText));let a=await i.json();console.log("Activity Video API Response:",a),a&&a.data&&a.data.activity?(console.log("Processed activity video data:",a.data.activity),c(a.data.activity)):(console.log("No activity found in response"),c(null))}catch(e){console.error("Failed to fetch activity video:",e),c(null)}finally{l(!1)}})()},[s,o]),n)return(0,a.jsx)("div",{className:_().videoContainer,children:"جاري التحميل..."});if(!i||!i.video_url)return(0,a.jsx)("div",{className:_().videoContainer});let v=(e=>{if(!e)return"";let s=e.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/);return s&&s[1]?"https://www.youtube.com/embed/".concat(s[1]):e})(i.video_url);return(0,a.jsxs)("div",{className:_().videoContainer,children:[(0,a.jsxs)("div",{className:_().videoInfo,children:[(0,a.jsx)("h2",{children:i.name}),(0,a.jsxs)("p",{className:_().publishingDate,children:[m("publishingDate"),": ",null==(e=i.publishing_date)?void 0:e.split("T")[0]]})]}),(0,a.jsx)("iframe",{src:v,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,className:_().videoIframe})]})},u=()=>(0,a.jsx)(t.Suspense,{fallback:(0,a.jsx)("div",{className:_().videoContainer,children:"جاري التحميل..."}),children:(0,a.jsx)(j,{})});function x(){var e;let s=(0,r.useSearchParams)().get("id")||"1",[i,n]=(0,t.useState)(null),[p,_]=(0,t.useState)(!0),{lang:j}=(0,d.o)(),x=(0,h.B)();return((0,t.useEffect)(()=>{(async()=>{_(!0);try{let e="".concat("https://app.mosaic-hrd.org/api","/activities/").concat(s);console.log("Fetching from URL:",e);let i=await fetch(e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","Accept-Language":j}});if(console.log("Response status:",i.status),!i.ok)throw Error("Failed to fetch: ".concat(i.statusText));let a=await i.json();console.log("Activity API Response:",a),a&&a.data&&a.data.activity?(console.log("Processed activity data:",a.data.activity),n(a.data.activity)):(console.log("No activity found in response"),n(null))}catch(e){console.error("Failed to fetch activity:",e),n(null)}finally{_(!1)}})()},[s,j]),p)?(0,a.jsx)(m.default,{}):i?(0,a.jsxs)("div",{className:l().container,children:[(0,a.jsx)("h1",{className:l().title,children:x("activities")}),(0,a.jsxs)("div",{className:l().content,children:[(0,a.jsxs)("div",{className:l().imageSection,children:[(0,a.jsx)("div",{className:l().imageWrapper,children:(0,a.jsx)(c.default,{src:i.image,alt:i.name,width:600,height:800,className:l().mainImage,onError:e=>{e.target.src="/Activities.jpg"}})}),(0,a.jsxs)("div",{className:l().imageInfo,children:[(0,a.jsxs)("div",{className:l().publishingDate,children:[(0,a.jsx)("span",{className:l().icon,children:(0,a.jsx)(o.bfZ,{color:"#1976d2"})}),(0,a.jsxs)("span",{children:[x("publishingDate"),": ",null==(e=i.publishing_date)?void 0:e.split("T")[0]]})]}),(0,a.jsxs)("div",{className:l().tags,children:[(0,a.jsx)("span",{className:l().icon,children:(0,a.jsx)(o.BuZ,{color:"#1976d2"})}),(0,a.jsxs)("span",{children:[x("tags"),": ",i.tags.map(e=>e.name).join(", ")]})]})]}),(0,a.jsx)("h3",{children:i.name}),(0,a.jsx)("div",{className:l().newsDetailsParagraph,dangerouslySetInnerHTML:{__html:i.description}})]}),(0,a.jsxs)("div",{className:l().rightSection,children:[(0,a.jsxs)("div",{className:l().searchBox,children:[(0,a.jsx)("input",{type:"text",placeholder:x("searchPlaceholder"),className:l().searchInput}),(0,a.jsx)("span",{className:l().searchIcon,children:(0,a.jsx)(o.KSO,{color:"#1976d2"})})]}),(0,a.jsxs)("div",{className:l().sections,children:[(0,a.jsx)("h2",{children:x("sections")}),(0,a.jsxs)("div",{className:l().sectionList,children:[(0,a.jsxs)("div",{className:l().sectionItem,children:[(0,a.jsx)("span",{children:x("home")}),(0,a.jsx)("span",{className:l().arrow,children:(0,a.jsx)(o.X6T,{color:"#1976d2"})})]}),(0,a.jsxs)("div",{className:l().sectionItem,children:[(0,a.jsx)("span",{children:x("projects")}),(0,a.jsx)("span",{className:l().arrow,children:(0,a.jsx)(o.X6T,{color:"#1976d2"})})]}),(0,a.jsxs)("div",{className:l().sectionItem,children:[(0,a.jsx)("span",{children:x("news")}),(0,a.jsx)("span",{className:l().arrow,children:(0,a.jsx)(o.X6T,{color:"#1976d2"})})]}),(0,a.jsxs)("div",{className:l().sectionItem,children:[(0,a.jsx)("span",{children:x("activities")}),(0,a.jsx)("span",{className:l().arrow,children:(0,a.jsx)(o.X6T,{color:"#1976d2"})})]}),(0,a.jsxs)("div",{className:l().sectionItem,children:[(0,a.jsx)("span",{children:x("statistics")}),(0,a.jsx)("span",{className:l().arrow,children:(0,a.jsx)(o.X6T,{color:"#1976d2"})})]}),(0,a.jsxs)("div",{className:l().sectionItem,children:[(0,a.jsx)("span",{children:x("about")}),(0,a.jsx)("span",{className:l().arrow,children:(0,a.jsx)(o.X6T,{color:"#1976d2"})})]})]})]}),(0,a.jsxs)("div",{className:l().tagsSection,children:[(0,a.jsx)("h2",{children:x("tags")}),(0,a.jsx)("div",{className:l().tagList,children:i.tags.map(e=>(0,a.jsx)("span",{className:l().tag,children:e.name},e.id))})]})]})]}),(0,a.jsx)(t.Suspense,{fallback:(0,a.jsx)(m.default,{}),children:(0,a.jsx)(u,{})}),(0,a.jsx)("div",{className:l().gallerySection,children:(0,a.jsx)(t.Suspense,{fallback:(0,a.jsx)(m.default,{}),children:(0,a.jsx)(v.default,{})})})]}):(0,a.jsx)("div",{className:l().container})}function g(){return(0,a.jsx)(t.Suspense,{fallback:(0,a.jsx)(m.default,{}),children:(0,a.jsx)(x,{})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[1787,593,6711,6766,7185,8276,8441,1684,7358],()=>s(5982)),_N_E=e.O()}]);
