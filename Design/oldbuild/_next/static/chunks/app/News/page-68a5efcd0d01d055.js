(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5684],{1593:(e,t,a)=>{Promise.resolve().then(a.bind(a,9493))},1793:e=>{e.exports={container:"News_container__6iD5F",mainTitle:"News_mainTitle__0PvjF",content:"News_content__7smns",mainContent:"News_mainContent__WXae9",blogPost:"News_blogPost__fsb1e",imageContainer:"News_imageContainer__4PGpp",postImage:"News_postImage__VKwiq",postContent:"News_postContent__5rj35",postTitle:"News_postTitle__hplsl",postMeta:"News_postMeta__pswdo",dateContainer:"News_dateContainer__XBUwi",tagsContainer:"News_tagsContainer__n7uqB",calendarIcon:"News_calendarIcon__bW2Cm",tagIcon:"News_tagIcon__2Uk80",tag:"News_tag__0OW2b",sidebar:"News_sidebar__st_Om",searchContainer:"News_searchContainer__1oMci",searchInput:"News_searchInput__s32bw",sections:"News_sections__su6gD",tagsSection:"News_tagsSection__PQYC_",quickLink:"News_quickLink__raT7n",arrow:"News_arrow__hkkIw",tagsList:"News_tagsList__LAM2g",tagChip:"News_tagChip__XUWPk",activeTag:"News_activeTag__fJSGk",filterMessage:"News_filterMessage__PEb77",clearFilter:"News_clearFilter__hYTF9",pagination:"News_pagination__NIJZY",activePage:"News_activePage__vrHG8"}},4436:(e,t,a)=>{"use strict";a.d(t,{k5:()=>d});var s=a(2115),n={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i=s.createContext&&s.createContext(n),r=["attr","size","title"];function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e}).apply(this,arguments)}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,s)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach(function(t){var s,n,i;s=e,n=t,i=a[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var s=a.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in s?Object.defineProperty(s,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function d(e){return t=>s.createElement(g,o({attr:c({},e.attr)},t),function e(t){return t&&t.map((t,a)=>s.createElement(t.tag,c({key:a},t.attr),e(t.child)))}(e.child))}function g(e){var t=t=>{var a,{attr:n,size:i,title:l}=e,d=function(e,t){if(null==e)return{};var a,s,n=function(e,t){if(null==e)return{};var a={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;a[s]=e[s]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}(e,r),g=i||t.size||"1em";return t.className&&(a=t.className),e.className&&(a=(a?a+" ":"")+e.className),s.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,d,{className:a,style:c(c({color:e.color||t.color},t.style),e.style),height:g,width:g,xmlns:"http://www.w3.org/2000/svg"}),l&&s.createElement("title",null,l),e.children)};return void 0!==i?s.createElement(i.Consumer,null,e=>t(e)):t(n)}},5089:(e,t,a)=>{"use strict";a.d(t,{default:()=>r});var s=a(5155),n=a(8453),i=a.n(n);function r(e){let{text:t="جاري التحميل",subtext:a="يرجى الانتظار قليلاً",size:n="medium",className:r=""}=e;return(0,s.jsxs)("div",{className:"".concat(i().loadingContainer," ").concat(i()[n]," ").concat(r),children:[(0,s.jsx)("div",{className:i().loadingSpinner}),(0,s.jsxs)("div",{className:i().loadingText,children:[t,(0,s.jsx)("span",{className:i().loadingDots})]}),a&&(0,s.jsx)("div",{className:i().loadingSubtext,children:a})]})}},8453:e=>{e.exports={loadingContainer:"Loading_loadingContainer__xYplO",loadingSpinner:"Loading_loadingSpinner__M270_",loadingPulse:"Loading_loadingPulse__Qaw_K",loadingText:"Loading_loadingText___vDh_",loadingSubtext:"Loading_loadingSubtext__wQMxs",loadingDots:"Loading_loadingDots__WkQtU",small:"Loading_small__OUu1F",medium:"Loading_medium__Pt9vT",large:"Loading_large__Xyjja"}},9493:(e,t,a)=>{"use strict";a.d(t,{default:()=>_});var s=a(5155),n=a(2115),i=a(6766),r=a(1793),o=a.n(r),l=a(9911),c=a(5089),d=a(3268),g=a(7185);let _=()=>{let{lang:e}=(0,d.o)(),t=(0,g.B)(),[,a]=(0,n.useState)([]),[r,_]=(0,n.useState)(!0),[u,h]=(0,n.useState)(1),[m,p]=(0,n.useState)(1),[f,N]=(0,n.useState)(null),[b,j]=(0,n.useState)([]),[w,v]=(0,n.useState)(""),[x,y]=(0,n.useState)([]);(0,n.useEffect)(()=>{(async()=>{_(!0);try{let t="".concat("https://app.mosaic-hrd.org/api","/success-stories/paginated?page=").concat(u);console.log("Fetching from URL:",t);let s=await fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","Accept-Language":e}});if(console.log("Response status:",s.status),!s.ok)throw Error("Failed to fetch: ".concat(s.statusText));let n=await s.json();if(console.log("Success Stories API Response:",n),n&&n.data&&n.data.centers&&Array.isArray(n.data.centers)){console.log("Processed stories data:",n.data.centers);let e=n.data.centers.sort((e,t)=>e.publishing_date&&t.publishing_date?new Date(t.publishing_date).getTime()-new Date(e.publishing_date).getTime():0);if(a(e),j(e),n.data.tags&&Array.isArray(n.data.tags))y(n.data.tags);else if(n.data.success_story_tags&&Array.isArray(n.data.success_story_tags))y(n.data.success_story_tags);else{let t=new Set,a=[];e.forEach(e=>{var s;null==(s=e.tags)||s.forEach(e=>{t.has(e.name)||(t.add(e.name),a.push(e))})}),y(a)}p(1)}else console.log("No success stories found in response"),a([]),j([]),y([]),p(1)}catch(e){console.error("Failed to fetch success stories:",e),a([]),j([]),y([]),p(1)}finally{_(!1)}})()},[u,e]);let C=e=>{f===e?(N(null),a(b)):(N(e),a(b.filter(t=>t.tags&&t.tags.some(t=>t.name===e))))},O=[];for(let e=1;e<=m;e++)O.push(e);let P=[{href:"/",label:t("home")},{href:"/Projects",label:t("projects")},{href:"/Statistics",label:t("statistics")},{href:"/about",label:t("about")},{href:"/Reports",label:t("reports")},{href:"/News",label:t("news")},{href:"/Activities",label:t("activities")},{href:"/Joinus",label:t("joinus")},{href:"/contact",label:t("contact")}];return(0,s.jsxs)("div",{className:o().container,children:[(0,s.jsx)("h1",{className:o().mainTitle,children:t("news")}),(0,s.jsxs)("div",{className:o().content,children:[(0,s.jsx)("div",{className:o().mainContent,children:r?(0,s.jsx)(c.default,{text:t("loading"),subtext:t("loading"),size:"medium"}):(0,s.jsxs)(s.Fragment,{children:[f&&(0,s.jsxs)("div",{className:o().filterMessage,children:[(0,s.jsxs)("span",{children:["عرض النتائج لوسم: ",(0,s.jsx)("strong",{children:f})]}),(0,s.jsx)("button",{onClick:()=>{N(null),a(b)},className:o().clearFilter,children:"إلغاء الفلترة"})]}),(()=>{let e=b;return f&&(e=e.filter(e=>e.tags&&e.tags.some(e=>e.name===f))),""!==w.trim()&&(e=e.filter(e=>e.name.toLowerCase().includes(w.toLowerCase()))),e})().map(e=>(0,s.jsxs)("div",{className:o().blogPost,children:[e.image&&(0,s.jsx)("a",{href:"/NewsDetails?id=".concat(e.id),className:o().imageContainer,style:{display:"block"},children:(0,s.jsx)(i.default,{src:e.image,alt:e.name,width:200,height:150,className:o().postImage})}),(0,s.jsxs)("div",{className:o().postContent,children:[(0,s.jsx)("a",{href:"/NewsDetails?id=".concat(e.id),className:o().postTitle,style:{textDecoration:"none",display:"block"},children:e.name}),(0,s.jsxs)("div",{className:o().postMeta,children:[(0,s.jsxs)("div",{className:o().dateContainer,children:[(0,s.jsx)(l.LyP,{color:"#0070f3",className:o().calendarIcon}),(0,s.jsxs)("span",{children:[t("publishingDate")," : ",e.publishing_date?new Date(e.publishing_date).toLocaleDateString("ar-EG",{day:"2-digit",month:"2-digit",year:"numeric"}):"---"]})]}),(0,s.jsxs)("div",{className:o().tagsContainer,children:[(0,s.jsx)(l.wJQ,{color:"#0070f3",className:o().tagIcon}),(0,s.jsxs)("span",{children:[t("tags")," : "]}),e.tags&&e.tags.length>0?e.tags.map(e=>(0,s.jsx)("span",{className:o().tag,onClick:t=>{t.preventDefault(),window.location.href="/TagsFillter?tag_id=".concat(e.id,"&tag_name=").concat(e.name,"&type=news")},style:{cursor:"pointer"},children:e.name},e.id)):(0,s.jsx)("span",{className:o().tag,children:"---"})]})]})]})]},e.id)),(0,s.jsxs)("div",{className:o().pagination,children:[(0,s.jsx)("button",{onClick:()=>{u>1&&h(u-1)},disabled:1===u,children:"< Previous"}),O.map(e=>(0,s.jsx)("button",{onClick:()=>h(e),className:u===e?o().activePage:"",children:e},e)),(0,s.jsx)("button",{onClick:()=>{u<m&&h(u+1)},disabled:u===m,children:"Next >"})]})]})}),(0,s.jsxs)("div",{className:o().sidebar,children:[(0,s.jsx)("div",{className:o().searchContainer,children:(0,s.jsx)("input",{type:"search",placeholder:"Search ...",className:o().searchInput,value:w,onChange:e=>v(e.target.value)})}),(0,s.jsxs)("div",{className:o().sections,children:[(0,s.jsx)("h2",{children:t("sections")}),P.map((t,a)=>(0,s.jsxs)("a",{href:"".concat(t.href,"?lang=").concat(e),className:o().quickLink,children:[(0,s.jsx)("span",{children:t.label}),(0,s.jsx)(l.X6T,{color:"#0070f3",className:o().arrow})]},a))]}),(0,s.jsxs)("div",{className:o().tagsSection,children:[(0,s.jsx)("h2",{children:t("tags")}),(0,s.jsx)("div",{className:o().tagsList,children:x.length>0?x.map(e=>(0,s.jsx)("span",{className:"".concat(o().tagChip," ").concat(f===e.name?o().activeTag:""),onClick:()=>C(e.name),style:{cursor:"pointer"},children:e.name},e.id)):(0,s.jsx)("span",{className:o().tagChip,children:"  "})})]})]})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[2634,593,6711,6766,7185,8441,1684,7358],()=>t(1593)),_N_E=e.O()}]);
