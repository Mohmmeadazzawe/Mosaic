(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1952],{4436:(t,e,a)=>{"use strict";a.d(e,{k5:()=>d});var s=a(2115),i={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n=s.createContext&&s.createContext(i),c=["attr","size","title"];function r(){return(r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t}).apply(this,arguments)}function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,s)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach(function(e){var s,i,n;s=t,i=e,n=a[e],(i=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var s=a.call(t,e||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(i))in s?Object.defineProperty(s,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[i]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function d(t){return e=>s.createElement(p,r({attr:l({},t.attr)},e),function t(e){return e&&e.map((e,a)=>s.createElement(e.tag,l({key:a},e.attr),t(e.child)))}(t.child))}function p(t){var e=e=>{var a,{attr:i,size:n,title:o}=t,d=function(t,e){if(null==t)return{};var a,s,i=function(t,e){if(null==t)return{};var a={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;a[s]=t[s]}return a}(t,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}(t,c),p=n||e.size||"1em";return e.className&&(a=e.className),t.className&&(a=(a?a+" ":"")+t.className),s.createElement("svg",r({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,d,{className:a,style:l(l({color:t.color||e.color},e.style),t.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),o&&s.createElement("title",null,o),t.children)};return void 0!==n?s.createElement(n.Consumer,null,t=>e(t)):e(i)}},5281:t=>{t.exports={container:"Statistics_container__W4wxU",mainTitle:"Statistics_mainTitle__yYR5u",content:"Statistics_content__YkVy0",mainContent:"Statistics_mainContent__fGduH",blogPost:"Statistics_blogPost__OMCyD",imageContainer:"Statistics_imageContainer__f9PAZ",postImage:"Statistics_postImage__W11eH",postContent:"Statistics_postContent__R_ViD",postTitle:"Statistics_postTitle___tQcx",postMeta:"Statistics_postMeta__bx7CK",dateContainer:"Statistics_dateContainer__jiC7Z",tagsContainer:"Statistics_tagsContainer__WcmND",calendarIcon:"Statistics_calendarIcon__vBZ0K",tagIcon:"Statistics_tagIcon__omp5U",tag:"Statistics_tag__Us47o",sidebar:"Statistics_sidebar__5meQN",searchContainer:"Statistics_searchContainer__CcSV3",searchInput:"Statistics_searchInput__Au8DD",sections:"Statistics_sections__x_v_K",tagsSection:"Statistics_tagsSection__3Yt8R",quickLink:"Statistics_quickLink__oaM9k",arrow:"Statistics_arrow__AjJ0C",tagsList:"Statistics_tagsList__DgQk2",tagChip:"Statistics_tagChip__xU8mF",pagination:"Statistics_pagination__wI6q8",paginationButton:"Statistics_paginationButton__JiYrQ",activePage:"Statistics_activePage__nJNsa",activeTag:"Statistics_activeTag__eJlxC",filterMessage:"Statistics_filterMessage__0zZRH",clearFilter:"Statistics_clearFilter__mn1HU",paginationEllipsis:"Statistics_paginationEllipsis__XnfmQ",disabled:"Statistics_disabled__hqu_O",pageInfo:"Statistics_pageInfo__tvpJi"}},5945:(t,e,a)=>{Promise.resolve().then(a.bind(a,9061))},9061:(t,e,a)=>{"use strict";a.d(e,{default:()=>g});var s=a(5155),i=a(2115),n=a(6766),c=a(6874),r=a.n(c),o=a(5281),l=a.n(o),d=a(9911),p=a(3268),h=a(7185);let g=()=>{let{lang:t}=(0,p.o)(),e=(0,h.B)(),[a,c]=(0,i.useState)([]),[o,g]=(0,i.useState)([]),[u,m]=(0,i.useState)(!0),[_,f]=(0,i.useState)(1),[j,b]=(0,i.useState)(1),[v,x]=(0,i.useState)(null),[S,N]=(0,i.useState)([]),[C,y]=(0,i.useState)(""),[w]=(0,i.useState)(10);(0,i.useEffect)(()=>{(async()=>{m(!0);try{let e=new URLSearchParams({page:_.toString(),per_page:w.toString()}),a="".concat("https://app.mosaic-hrd.org/api","/statistics/paginated?").concat(e.toString());console.log("Fetching from URL:",a);let s=await fetch(a,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","Accept-Language":t}});if(console.log("Response status:",s.status),!s.ok)throw Error("Failed to fetch: ".concat(s.statusText));let i=await s.json();if(console.log("Statistics API Response:",i),i&&i.data){let t=i.data.statistics||[],e=i.data.statistic_tags||[];console.log("Processed statistics data:",t),console.log("Processed tags data:",e),t.sort((t,e)=>new Date(e.publishing_date).getTime()-new Date(t.publishing_date).getTime()),c(t),N(t),g(e),b(i.data.total_pages||1)}else console.log("No statistics found in response"),c([]),N([]),g([]),b(1)}catch(t){console.error("Failed to fetch statistics:",t),c([]),N([]),g([]),b(1)}finally{m(!1)}})()},[_,t,w]);let O=t=>{t>=1&&t<=j&&(f(t),x(null),y(""))},P=[],k=Math.max(1,_-Math.floor(2.5)),T=Math.min(j,k+5-1);T-k+1<5&&(k=Math.max(1,T-5+1));for(let t=k;t<=T;t++)P.push(t);let E=t=>{v===t?(x(null),c(S)):(x(t),c(S.filter(e=>e.tags.some(e=>e.name===t))))},I=[{href:"/",label:e("home")},{href:"/Projects",label:e("projects")},{href:"/Statistics",label:e("statistics")},{href:"/about",label:e("about")},{href:"/Reports",label:e("reports")},{href:"/News",label:e("news")},{href:"/Activities",label:e("activities")},{href:"/Joinus",label:e("joinus")},{href:"/contact",label:e("contact")}],D=(()=>{let t=S;return v&&(t=t.filter(t=>t.tags.some(t=>t.name===v))),""!==C.trim()&&(t=t.filter(t=>t.name.toLowerCase().includes(C.toLowerCase())||t.tags.some(t=>t.name.toLowerCase().includes(C.toLowerCase())))),t})(),L=D.length;return(0,s.jsxs)("div",{className:l().container,children:[(0,s.jsx)("h1",{className:l().mainTitle,children:e("statistics")}),(0,s.jsxs)("div",{className:l().content,children:[(0,s.jsx)("div",{className:l().mainContent,children:u?(0,s.jsx)("div",{children:e("loading")}):0===a.length?(0,s.jsx)("div",{children:e("noData")}):(0,s.jsxs)(s.Fragment,{children:[v&&(0,s.jsxs)("div",{className:l().filterMessage,children:[(0,s.jsxs)("span",{children:[e("showingResultsForTag"),": ",(0,s.jsx)("strong",{children:v})]}),(0,s.jsx)("button",{onClick:()=>{x(null),c(S)},className:l().clearFilter,children:e("clearFilter")})]}),D.map(t=>{var a;return(0,s.jsxs)("div",{className:l().blogPost,children:[(0,s.jsx)(r(),{href:"/statistics-details?id=".concat(t.id),className:l().imageContainer,children:(0,s.jsx)(n.default,{src:t.image,alt:t.name,width:200,height:150,className:l().postImage})}),(0,s.jsxs)("div",{className:l().postContent,children:[(0,s.jsx)("p",{className:l().postTitle,children:t.name}),(0,s.jsxs)("div",{className:l().postMeta,children:[(0,s.jsxs)("div",{className:l().dateContainer,children:[(0,s.jsx)(d.LyP,{color:"#0070f3",className:l().calendarIcon}),(0,s.jsxs)("span",{children:[e("publishingDate"),": ",null==(a=t.publishing_date)?void 0:a.split("T")[0]]})]}),(0,s.jsxs)("div",{className:l().tagsContainer,children:[(0,s.jsx)(d.wJQ,{color:"#0070f3",className:l().tagIcon}),(0,s.jsxs)("span",{children:[e("tags"),": "]}),t.tags.map(t=>(0,s.jsx)("span",{className:l().tag,onClick:e=>{e.preventDefault(),window.location.href="/TagsFillter?tag_id=".concat(t.id,"&tag_name=").concat(t.name,"&type=statistics")},style:{cursor:"pointer"},children:t.name},t.id))]})]})]})]},t.id)}),j>1&&(0,s.jsxs)("div",{className:l().pagination,children:[(0,s.jsx)("button",{className:"".concat(l().paginationButton," ").concat(1===_?l().disabled:""),onClick:()=>O(_-1),disabled:1===_,children:(0,s.jsx)(d._Jj,{})}),k>1&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{className:l().paginationButton,onClick:()=>O(1),children:"1"}),k>2&&(0,s.jsx)("span",{className:l().paginationEllipsis,children:"..."})]}),P.map(t=>(0,s.jsx)("button",{className:"".concat(l().paginationButton," ").concat(_===t?l().activePage:""),onClick:()=>O(t),children:t},t)),T<j&&(0,s.jsxs)(s.Fragment,{children:[T<j-1&&(0,s.jsx)("span",{className:l().paginationEllipsis,children:"..."}),(0,s.jsx)("button",{className:l().paginationButton,onClick:()=>O(j),children:j})]}),(0,s.jsx)("button",{className:"".concat(l().paginationButton," ").concat(_===j?l().disabled:""),onClick:()=>O(_+1),disabled:_===j,children:(0,s.jsx)(d.X6T,{})})]}),(0,s.jsx)("div",{className:l().pageInfo,children:(0,s.jsxs)("span",{children:[e("showing")," ",(_-1)*w+1," - ",Math.min(_*w,L)," ",e("of")," ",L," ",e("results")]})})]})}),(0,s.jsxs)("div",{className:l().sidebar,children:[(0,s.jsx)("div",{className:l().searchContainer,children:(0,s.jsx)("input",{type:"search",placeholder:e("searchPlaceholder"),className:l().searchInput,value:C,onChange:t=>y(t.target.value)})}),(0,s.jsxs)("div",{className:l().sections,children:[(0,s.jsx)("h2",{children:e("sections")}),I.map((t,e)=>(0,s.jsxs)("a",{href:t.href,className:l().quickLink,children:[(0,s.jsx)("span",{children:t.label}),(0,s.jsx)(d.X6T,{color:"#0070f3",className:l().arrow})]},e))]}),(0,s.jsxs)("div",{className:l().tagsSection,children:[(0,s.jsx)("h2",{children:e("tags")}),(0,s.jsx)("div",{className:l().tagsList,children:o&&o.length>0?o.map(t=>(0,s.jsx)("span",{className:"".concat(l().tagChip," ").concat(v===t.name?l().activeTag:""),onClick:()=>E(t.name),style:{cursor:"pointer"},children:t.name},t.id)):(0,s.jsx)("span",{className:"".concat(l().tagChip," ").concat("وسم 1"===v?l().activeTag:""),onClick:()=>E("وسم 1"),style:{cursor:"pointer"},children:"وسم 1"})})]})]})]})]})}}},t=>{var e=e=>t(t.s=e);t.O(0,[2026,6711,6766,6874,7185,8441,1684,7358],()=>e(5945)),_N_E=t.O()}]);
