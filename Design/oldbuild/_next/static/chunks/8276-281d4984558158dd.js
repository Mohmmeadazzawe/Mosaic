(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8276],{1845:e=>{e.exports={"gallery-container":"Gallery_gallery-container__JNzEj","gallery-title":"Gallery_gallery-title__5eVv9","gallery-content":"Gallery_gallery-content__kuKb6","navigation-arrow":"Gallery_navigation-arrow__FQDjx","left-arrow":"Gallery_left-arrow__iBiF8","right-arrow":"Gallery_right-arrow__6T5IR","rtl-left-arrow":"Gallery_rtl-left-arrow__I79R5","rtl-right-arrow":"Gallery_rtl-right-arrow__lbBPG","gallery-images":"Gallery_gallery-images__p0rY7","image-wrapper":"Gallery_image-wrapper__ZjCTJ","gallery-image":"Gallery_gallery-image__cYOll","social-icons":"Gallery_social-icons__UwZBl","modal-overlay":"Gallery_modal-overlay__OVgtu","modal-content":"Gallery_modal-content__J1Fqf","modal-close":"Gallery_modal-close__eRooP","modal-nav":"Gallery_modal-nav__K1_Uw","modal-image-container":"Gallery_modal-image-container__jMoHG","modal-image":"Gallery_modal-image__L0YcI","modal-footer":"Gallery_modal-footer__4u6zv","modal-counter":"Gallery_modal-counter__IxSUw","download-btn":"Gallery_download-btn__49TUO",active:"Gallery_active__RNPJA"}},4436:(e,t,a)=>{"use strict";a.d(t,{k5:()=>d});var r=a(2115),l={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n=r.createContext&&r.createContext(l),o=["attr","size","title"];function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach(function(t){var r,l,n;r=e,l=t,n=a[t],(l=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(l))in r?Object.defineProperty(r,l,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[l]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function d(e){return t=>r.createElement(m,i({attr:c({},e.attr)},t),function e(t){return t&&t.map((t,a)=>r.createElement(t.tag,c({key:a},t.attr),e(t.child)))}(e.child))}function m(e){var t=t=>{var a,{attr:l,size:n,title:s}=e,d=function(e,t){if(null==e)return{};var a,r,l=function(e,t){if(null==e)return{};var a={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)a=n[r],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}(e,o),m=n||t.size||"1em";return t.className&&(a=t.className),e.className&&(a=(a?a+" ":"")+e.className),r.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,l,d,{className:a,style:c(c({color:e.color||t.color},t.style),e.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),s&&r.createElement("title",null,s),e.children)};return void 0!==n?r.createElement(n.Consumer,null,e=>t(e)):t(l)}},5089:(e,t,a)=>{"use strict";a.d(t,{default:()=>o});var r=a(5155),l=a(8453),n=a.n(l);function o(e){let{text:t="جاري التحميل",subtext:a="يرجى الانتظار قليلاً",size:l="medium",className:o=""}=e;return(0,r.jsxs)("div",{className:"".concat(n().loadingContainer," ").concat(n()[l]," ").concat(o),children:[(0,r.jsx)("div",{className:n().loadingSpinner}),(0,r.jsxs)("div",{className:n().loadingText,children:[t,(0,r.jsx)("span",{className:n().loadingDots})]}),a&&(0,r.jsx)("div",{className:n().loadingSubtext,children:a})]})}},5695:(e,t,a)=>{"use strict";var r=a(8999);a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},8049:(e,t,a)=>{"use strict";a.d(t,{default:()=>g});var r=a(5155),l=a(2115),n=a(1845),o=a.n(n),i=a(6766),s=a(9911),c=a(7185),d=a(3268),m=a(5695);let g=()=>{let e=(0,l.useRef)(null),[t,a]=(0,l.useState)([]),[n,g]=(0,l.useState)(!0),[u,y]=(0,l.useState)(0),[h,_]=(0,l.useState)(!1),[f,p]=(0,l.useState)(!1),[v,w]=(0,l.useState)(0),j=(0,c.B)(),{lang:b}=(0,d.o)(),x=(0,m.useSearchParams)().get("id"),N=(0,m.usePathname)();(0,l.useEffect)(()=>{(async()=>{g(!0);try{let e="https://app.mosaic-hrd.org/api";if(!x){a([]),g(!1);return}let t="";if(N.includes("/NewsDetails"))t="".concat(e,"/success-stories/").concat(x);else if(N.includes("/ActivitiesDetails"))t="".concat(e,"/activities/").concat(x);else{a([]),g(!1);return}console.log("Fetching from URL:",t);let r=await fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(console.log("Response status:",r.status),!r.ok)throw Error("Failed to fetch: ".concat(r.statusText));let l=await r.json();console.log("API Response:",l);let n=[];l&&l.data&&(l.data.success_story&&Array.isArray(l.data.success_story.images)?n=l.data.success_story.images:l.data.activity&&Array.isArray(l.data.activity.images)&&(n=l.data.activity.images)),a(n)}catch(e){console.error("Error fetching images:",e),a([])}finally{g(!1)}})()},[x,N]),(0,l.useEffect)(()=>{let e=()=>_(window.innerWidth<=768);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let k=(0,l.useCallback)(e=>{0!==t.length&&("prev"===e?w(e=>0===e?t.length-1:e-1):w(e=>e===t.length-1?0:e+1))},[t.length]);(0,l.useEffect)(()=>{let e=e=>{f&&("Escape"===e.key?C():"ArrowLeft"===e.key?k("prev"):"ArrowRight"===e.key&&k("next"))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[f,v,t.length,k]);let O=a=>{h?y(e=>0===t.length?0:"left"===a?0===e?t.length-1:e-1:e===t.length-1?0:e+1):e.current&&("left"===a?e.current.scrollLeft-=220:e.current.scrollLeft+=220)},P=e=>{w(e),p(!0),document.body.style.overflow="hidden"},C=()=>{p(!1),document.body.style.overflow="auto"},G=async(e,t)=>{try{let a=encodeURIComponent(e),r=document.createElement("a");r.href="https://app.mosaic-hrd.org/api/download/image/".concat(a),r.download="gallery-image-".concat(t+1,".jpg"),r.target="_blank",document.body.appendChild(r),r.click(),document.body.removeChild(r)}catch(t){console.error("Error downloading image:",t),window.open(e,"_blank")}},S="ar"===b?"".concat(o()["navigation-arrow"]," ").concat(o()["left-arrow"]," ").concat(o()["rtl-left-arrow"]):"".concat(o()["navigation-arrow"]," ").concat(o()["left-arrow"]),E="ar"===b?"".concat(o()["navigation-arrow"]," ").concat(o()["right-arrow"]," ").concat(o()["rtl-right-arrow"]):"".concat(o()["navigation-arrow"]," ").concat(o()["right-arrow"]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:o()["gallery-container"],children:[(0,r.jsx)("h2",{className:o()["gallery-title"],children:j("gallery")}),(0,r.jsxs)("div",{className:o()["gallery-content"],children:[(0,r.jsx)("button",{className:S,onClick:()=>O("left"),"aria-label":"Scroll Left",children:(0,r.jsx)(s.QVr,{})}),(0,r.jsx)("div",{className:o()["gallery-images"],ref:e,children:n?(0,r.jsx)("div",{className:o()["image-wrapper"],children:(0,r.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",fontSize:"1rem",color:"#666"},children:"جاري التحميل..."})}):0===t.length?(0,r.jsx)("div",{className:o()["image-wrapper"],children:(0,r.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",fontSize:"1rem",color:"#666"}})}):t.map((e,t)=>(0,r.jsx)("div",{className:"".concat(o()["image-wrapper"]," ").concat(h&&u===t?"active":""),style:h?{display:u===t?"block":"none",width:"100%"}:{},onClick:()=>P(t),children:(0,r.jsx)(i.default,{src:e,alt:"Gallery Image ".concat(t+1),width:200,height:150,className:o()["gallery-image"]})},t))}),(0,r.jsx)("button",{className:E,onClick:()=>O("right"),"aria-label":"Scroll Right",children:(0,r.jsx)(s.Z0P,{})})]}),(0,r.jsxs)("div",{className:o()["social-icons"],children:[(0,r.jsx)("a",{href:"https://www.facebook.com/Mosaic.organization?sfnsn=wa&mibextid=RUbZ1f","aria-label":"Facebook",target:"_blank",rel:"noopener noreferrer",children:(0,r.jsx)(s.ok6,{})}),(0,r.jsx)("a",{href:"https://www.instagram.com/mosaic_human_relief?igsh=M21zd3gzYnQ4MWYx","aria-label":"Instagram",target:"_blank",rel:"noopener noreferrer",children:(0,r.jsx)(s.ao$,{})})]})]}),f&&(0,r.jsx)("div",{className:o()["modal-overlay"],onClick:C,children:(0,r.jsxs)("div",{className:o()["modal-content"],onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("button",{className:o()["modal-close"],onClick:C,children:(0,r.jsx)(s.QCr,{})}),(0,r.jsx)("button",{className:o()["modal-nav"],onClick:()=>k("prev"),style:{left:"20px"},children:(0,r.jsx)(s.QVr,{})}),(0,r.jsx)("button",{className:o()["modal-nav"],onClick:()=>k("next"),style:{right:"20px"},children:(0,r.jsx)(s.Z0P,{})}),(0,r.jsx)("div",{className:o()["modal-image-container"],children:(0,r.jsx)(i.default,{src:t[v],alt:"Gallery Image ".concat(v+1),width:800,height:600,className:o()["modal-image"]})}),(0,r.jsxs)("div",{className:o()["modal-footer"],children:[(0,r.jsxs)("span",{className:o()["modal-counter"],children:[v+1," / ",t.length]}),(0,r.jsxs)("button",{className:o()["download-btn"],onClick:()=>G(t[v],v),children:[(0,r.jsx)(s.WCW,{}),"تحميل"]})]})]})})]})}},8453:e=>{e.exports={loadingContainer:"Loading_loadingContainer__xYplO",loadingSpinner:"Loading_loadingSpinner__M270_",loadingPulse:"Loading_loadingPulse__Qaw_K",loadingText:"Loading_loadingText___vDh_",loadingSubtext:"Loading_loadingSubtext__wQMxs",loadingDots:"Loading_loadingDots__WkQtU",small:"Loading_small__OUu1F",medium:"Loading_medium__Pt9vT",large:"Loading_large__Xyjja"}}}]);
