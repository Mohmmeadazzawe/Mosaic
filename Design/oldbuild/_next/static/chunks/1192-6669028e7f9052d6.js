(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1192],{1164:(e,a,t)=>{"use strict";t.d(a,{A:()=>_});var s=t(5155),i=t(2115),n=t(6766),c=t(5695),o=t(4242),l=t.n(o),r=t(7185),d=t(3268);let _=e=>{let{projectId:a,centerId:t,sectorId:o}=e,_=(0,c.useRouter)(),[g,p]=(0,i.useState)([]),[h,u]=(0,i.useState)(!0),[m,v]=(0,i.useState)(1),[x,j]=(0,i.useState)(new Set),N=(0,r.B)(),{lang:S}=(0,d.o)();(0,i.useEffect)(()=>{(async()=>{u(!0);try{let e=new URLSearchParams({search:"",project_id:a||"",center_id:t||"",sector_id:o||"",tag_id:""}),s="https://app.mosaic-hrd.org/api/activities/paginated?".concat(e.toString()),i=await fetch(s,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","Accept-Language":S}});if(!i.ok)throw Error("Failed to fetch via proxy: ".concat(i.statusText));let n=await i.json();console.log("Activities API Response:",n);let c=[];n&&n.data&&Array.isArray(n.data.activities)?(c=n.data.activities).sort((e,a)=>new Date(a.publishing_date).getTime()-new Date(e.publishing_date).getTime()):(console.log("No activities found in response"),console.log("Available keys:",(null==n?void 0:n.data)?Object.keys(n.data):"No data object")),p(c)}catch(e){console.error("Failed to fetch activities:",e),p([])}finally{u(!1)}})()},[S,a,t,o]);let y=Math.ceil(g.length/4),A=e=>{v(e)},C=4*m,w=g.slice(C-4,C),f=e=>{_.push("/Activities?id=".concat(e))},b=e=>{j(a=>new Set(a).add(e))},T=()=>"/Activities.jpg";return h?(0,s.jsxs)("div",{className:l().container,children:[(0,s.jsx)("h1",{className:l().title,children:N("activities")}),(0,s.jsx)("div",{className:l().loadingMessage,children:"ar"===S?"جاري التحميل...":"Loading..."})]}):0===g.length?(0,s.jsxs)("div",{className:l().container,children:[(0,s.jsx)("h1",{className:l().title,children:N("activities")}),(0,s.jsx)("div",{className:l().noDataMessage,children:"ar"===S?"لا توجد أنشطة متاحة":"No activities available"})]}):(0,s.jsxs)("div",{className:l().container,children:[(0,s.jsx)("h1",{className:l().title,children:N("activities")}),(0,s.jsx)("div",{className:l().activitiesGrid,children:w.map(e=>(0,s.jsxs)("div",{className:l().activityCard,onClick:()=>f(e.id),children:[(0,s.jsx)("div",{className:l().imageWrapper,children:(0,s.jsx)(n.default,{src:x.has(e.id)?T():e.image,alt:e.name,width:500,height:400,className:l().image,onError:()=>b(e.id),priority:2>w.indexOf(e),sizes:"(max-width: 768px) 100vw, (max-width: 1024px) 50vw, 25vw"})}),(0,s.jsx)("h3",{className:l().activityTitle,children:e.name})]},e.id))}),y>1&&(0,s.jsxs)("div",{className:l().pagination,children:[(0,s.jsx)("button",{onClick:()=>A(m-1),disabled:1===m,className:l().paginationButton,children:"ar"===S?"السابق":"Previous"}),[...Array(y)].map((e,a)=>{let t=a+1,i=m===t;return 1===t||t===y||1>=Math.abs(t-m)?(0,s.jsx)("button",{onClick:()=>A(t),className:"".concat(l().paginationButton," ").concat(i?l().active:""),children:t},t):2===t&&m>3?(0,s.jsx)("span",{className:l().paginationEllipsis,children:"..."},"ellipsis-start"):t===y-1&&m<y-2?(0,s.jsx)("span",{className:l().paginationEllipsis,children:"..."},"ellipsis-end"):null}),(0,s.jsx)("button",{onClick:()=>A(m+1),disabled:m===y,className:l().paginationButton,children:"ar"===S?"التالي":"Next"})]})]})}},2242:e=>{e.exports={container:"Success_Stories_container__TVqSp",title:"Success_Stories_title__tF__N",activitiesGrid:"Success_Stories_activitiesGrid__sBSkN",activityCard:"Success_Stories_activityCard__tyMC9",imageWrapper:"Success_Stories_imageWrapper__I3GwJ",image:"Success_Stories_image__15NC6",activityTitle:"Success_Stories_activityTitle__L6Pp3",pagination:"Success_Stories_pagination___36jh",paginationButton:"Success_Stories_paginationButton__wLRuC",active:"Success_Stories_active__yyh8q"}},4242:e=>{e.exports={container:"Activities_container__9n1Tp",title:"Activities_title__4SRTl",activitiesGrid:"Activities_activitiesGrid__w15Oy",activityCard:"Activities_activityCard__mx34q",imageWrapper:"Activities_imageWrapper__mNk2_",image:"Activities_image__NBv23",activityTitle:"Activities_activityTitle__T72ox",pagination:"Activities_pagination__95Q1e",paginationButton:"Activities_paginationButton__Ty_sU",active:"Activities_active__1i43_",loadingMessage:"Activities_loadingMessage__Q6Vkc",noDataMessage:"Activities_noDataMessage__Jltvl",paginationEllipsis:"Activities_paginationEllipsis__EfLKu"}},4428:(e,a,t)=>{"use strict";t.d(a,{A:()=>_});var s=t(5155),i=t(2115),n=t(6766),c=t(5695),o=t(7634),l=t.n(o),r=t(7185),d=t(3268);let _=e=>{let{projectId:a,sectorId:t}=e,o=(0,c.useRouter)(),[_,g]=(0,i.useState)([]),[p,h]=(0,i.useState)(!0),[u,m]=(0,i.useState)(1),[v,x]=(0,i.useState)(new Set),j=(0,r.B)(),{lang:N}=(0,d.o)();(0,i.useEffect)(()=>{(async()=>{h(!0);try{let e=new URLSearchParams({project_id:a||"",sector_id:t||""}),s="".concat("https://app.mosaic-hrd.org/api","/centers/paginated?").concat(e.toString());console.log("Fetching from URL:",s);let i=await fetch(s,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","Accept-Language":N}});if(console.log("Response status:",i.status),!i.ok)throw Error("Failed to fetch: ".concat(i.statusText));let n=await i.json();console.log("Centers API Response:",n),n&&n.data&&Array.isArray(n.data.centers)?(console.log("Processed centers data:",n.data.centers),g(n.data.centers)):(console.log("No centers found in response"),g([]))}catch(e){console.error("Failed to fetch centers:",e),g([])}finally{h(!1)}})()},[N,a,t]);let S=Math.ceil(_.length/4),y=e=>{m(e)},A=4*u,C=_.slice(A-4,A),w=e=>{o.push("/About-Us?id=".concat(e))},f=e=>{x(a=>new Set(a).add(e))},b=()=>"/Activities.jpg";return p?(0,s.jsxs)("div",{className:l().container,children:[(0,s.jsx)("h1",{className:l().title,children:j("centers")}),(0,s.jsx)("div",{className:l().loadingMessage,children:"ar"===N?"جاري التحميل...":"Loading..."})]}):0===_.length?(0,s.jsxs)("div",{className:l().container,children:[(0,s.jsx)("h1",{className:l().title,children:j("centers")}),(0,s.jsx)("div",{className:l().noDataMessage,children:"ar"===N?"لا توجد مراكز متاحة":"No centers available"})]}):(0,s.jsxs)("div",{className:l().container,children:[(0,s.jsx)("h1",{className:l().title,children:j("centers")}),(0,s.jsx)("div",{className:l().centersGrid,children:C.map(e=>(0,s.jsxs)("div",{className:l().centerCard,onClick:()=>w(e.id),children:[(0,s.jsx)("div",{className:l().imageWrapper,children:(0,s.jsx)(n.default,{src:v.has(e.id)?b():e.image,alt:e.name,width:500,height:400,className:l().image,onError:()=>f(e.id),priority:2>C.indexOf(e),sizes:"(max-width: 768px) 100vw, (max-width: 1024px) 50vw, 25vw"})}),(0,s.jsx)("h3",{className:l().centerTitle,children:e.name})]},e.id))}),S>1&&(0,s.jsxs)("div",{className:l().pagination,children:[(0,s.jsx)("button",{onClick:()=>y(u-1),disabled:1===u,className:l().paginationButton,children:"ar"===N?"السابق":"Previous"}),[...Array(S)].map((e,a)=>{let t=a+1,i=u===t;return 1===t||t===S||1>=Math.abs(t-u)?(0,s.jsx)("button",{onClick:()=>y(t),className:"".concat(l().paginationButton," ").concat(i?l().active:""),children:t},t):2===t&&u>3?(0,s.jsx)("span",{className:l().paginationEllipsis,children:"..."},"ellipsis-start"):t===S-1&&u<S-2?(0,s.jsx)("span",{className:l().paginationEllipsis,children:"..."},"ellipsis-end"):null}),(0,s.jsx)("button",{onClick:()=>y(u+1),disabled:u===S,className:l().paginationButton,children:"ar"===N?"التالي":"Next"})]})]})}},5089:(e,a,t)=>{"use strict";t.d(a,{default:()=>c});var s=t(5155),i=t(8453),n=t.n(i);function c(e){let{text:a="جاري التحميل",subtext:t="يرجى الانتظار قليلاً",size:i="medium",className:c=""}=e;return(0,s.jsxs)("div",{className:"".concat(n().loadingContainer," ").concat(n()[i]," ").concat(c),children:[(0,s.jsx)("div",{className:n().loadingSpinner}),(0,s.jsxs)("div",{className:n().loadingText,children:[a,(0,s.jsx)("span",{className:n().loadingDots})]}),t&&(0,s.jsx)("div",{className:n().loadingSubtext,children:t})]})}},5695:(e,a,t)=>{"use strict";var s=t(8999);t.o(s,"usePathname")&&t.d(a,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(a,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(a,{useSearchParams:function(){return s.useSearchParams}})},7634:e=>{e.exports={container:"Centers_container__NUYk5",title:"Centers_title__Op_Z1",centersGrid:"Centers_centersGrid__ZZJo6",centerCard:"Centers_centerCard__BCFRv",imageWrapper:"Centers_imageWrapper__0qhaG",image:"Centers_image__QUWr0",centerTitle:"Centers_centerTitle__RqYvh",pagination:"Centers_pagination__ZhDla",paginationButton:"Centers_paginationButton__oVL2v",active:"Centers_active__0_Icm",loadingMessage:"Centers_loadingMessage__Bfu0R",noDataMessage:"Centers_noDataMessage__pPspd",paginationEllipsis:"Centers_paginationEllipsis__Z_ZG_"}},8453:e=>{e.exports={loadingContainer:"Loading_loadingContainer__xYplO",loadingSpinner:"Loading_loadingSpinner__M270_",loadingPulse:"Loading_loadingPulse__Qaw_K",loadingText:"Loading_loadingText___vDh_",loadingSubtext:"Loading_loadingSubtext__wQMxs",loadingDots:"Loading_loadingDots__WkQtU",small:"Loading_small__OUu1F",medium:"Loading_medium__Pt9vT",large:"Loading_large__Xyjja"}},9100:(e,a,t)=>{"use strict";t.d(a,{A:()=>_});var s=t(5155),i=t(2115),n=t(6766),c=t(5695),o=t(2242),l=t.n(o),r=t(7185),d=t(3268);let _=e=>{let{projectId:a,sectorId:t}=e,o=(0,c.useRouter)(),[_,g]=(0,i.useState)([]),[p,h]=(0,i.useState)(!0),[u,m]=(0,i.useState)(1),[v,x]=(0,i.useState)(1),j=(0,r.B)(),{lang:N}=(0,d.o)();(0,i.useEffect)(()=>{(async()=>{h(!0);try{let e=new URLSearchParams({search:"",project_id:a||"",sector_id:t||"",tag_id:"",page:u.toString()}),s="".concat("https://app.mosaic-hrd.org/api","/success-stories?").concat(e.toString());console.log("Fetching from URL:",s);let i=await fetch(s,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","Accept-Language":N}});if(console.log("Response status:",i.status),!i.ok)throw Error("Failed to fetch: ".concat(i.statusText));let n=await i.json();console.log("Success Stories API Response:",n);let c=[],o=1;n&&n.data?Array.isArray(n.data.success_stories)?(c=n.data.success_stories,o=n.data.total_pages||1):Array.isArray(n.data)?(c=n.data,o=n.total_pages||1):n.data.success_stories&&Array.isArray(n.data.success_stories)&&(c=n.data.success_stories,o=n.data.total_pages||1):Array.isArray(n)&&(c=n,o=1),console.log("Processed success stories data:",c),console.log("Total pages from API:",o),c.sort((e,a)=>new Date(a.publishing_date).getTime()-new Date(e.publishing_date).getTime()),g(c),x(o),0===c.length&&(console.log("No success stories found in response"),console.log("Available keys:",(null==n?void 0:n.data)?Object.keys(n.data):"No data object"))}catch(e){console.error("Failed to fetch success stories:",e),g([]),x(1)}finally{h(!1)}})()},[u,N,a,t]);let S=e=>{m(e)},y=()=>{o.push("/News")};return p?(0,s.jsxs)("div",{className:l().container,children:[(0,s.jsx)("h1",{className:l().title,children:j("news")}),(0,s.jsx)("div",{className:l().loadingMessage,children:"جاري التحميل..."})]}):_&&0!==_.length?(0,s.jsxs)("div",{className:l().container,children:[(0,s.jsx)("h1",{className:l().title,children:j("news")}),(0,s.jsx)("div",{className:l().activitiesGrid,children:_.map(e=>(0,s.jsxs)("div",{className:l().activityCard,onClick:y,style:{cursor:"pointer"},children:[(0,s.jsx)("div",{className:l().imageWrapper,children:(0,s.jsx)(n.default,{src:e.image,alt:e.name,width:300,height:200,className:l().image})}),(0,s.jsx)("h3",{className:l().activityTitle,children:e.name})]},e.id))}),v>1&&(0,s.jsxs)("div",{className:l().pagination,children:[(0,s.jsx)("button",{onClick:()=>S(u-1),disabled:1===u,className:l().paginationButton,children:"Previous"}),[...Array(v)].map((e,a)=>(0,s.jsx)("button",{onClick:()=>S(a+1),className:"".concat(l().paginationButton," ").concat(u===a+1?l().active:""),children:a+1},a+1)),(0,s.jsx)("button",{onClick:()=>S(u+1),disabled:u===v,className:l().paginationButton,children:"Next"})]})]}):(0,s.jsxs)("div",{className:l().container,children:[(0,s.jsx)("h1",{className:l().title,children:j("news")}),(0,s.jsx)("div",{className:l().noDataMessage,children:"لا توجد قصص نجاح متاحة"})]})}}}]);
